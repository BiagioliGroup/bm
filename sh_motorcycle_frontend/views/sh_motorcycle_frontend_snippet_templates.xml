<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <!-- 
    	INHERIT BY SOFTHELAER
    	SNIPPET
    -->

    <template id="sh_motorcycle_snippet_tmpl_1" name="Auto Parts Snippet">
        <section id="sh_motorcycle_snippet_section_1" class="container-fluid bg-light py-3 mb-3">
            <div class="container">
                
                <div class="text-center mb-3">
                    <h5 class="mb-2 text-muted">Seleccioná tu Vehículo</h5>
                    <small class="text-muted">Encontrá repuestos específicos para tu moto</small>
                </div>

                <form id="id_sh_motorcycle_search_form" action="/shop" method="get">
                    
                    <!-- Container más estrecho en desktop -->
                    <div class="row justify-content-center">
                        <div class="col-12 col-lg-10 col-xl-8">
                            
                            <!-- Campos en línea horizontal -->
                            <div class="row g-2 mb-3">
                                <!-- Tipo -->
                                <div class="col-6 col-md-3">
                                    <select name="type" id="id_sh_motorcycle_type_select" class="form-select" required="required">
                                        <option value="">Tipo</option>
                                    </select>
                                </div>

                                <!-- Marca -->
                                <div class="col-6 col-md-3">
                                    <select name="make" id="id_sh_motorcycle_make_select" class="form-select" required="required">
                                        <option value="">Marca</option>
                                    </select>
                                </div>

                                <!-- Año -->
                                <div class="col-6 col-md-3">
                                    <select name="year" id="id_sh_motorcycle_year_select" class="form-select" required="required">
                                        <option value="">Año</option>
                                    </select>
                                </div>

                                <!-- Modelo -->
                                <div class="col-6 col-md-3">
                                    <select name="model" id="id_sh_motorcycle_model_select" class="form-select" required="required">
                                        <option value="">Modelo</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Input hidde    n para categoría -->
                            <input type="hidden" id="id_input_sh_moto_categ_id" name="category" value="" />

                            <!-- Botones centrados -->
                            <div class="row justify-content-center g-2 align-items-stretch">
                                <!-- Botón Buscar -->
                                <div class="col-4 col-md-3 col-lg-2">
                                    <button id="id_sh_motorcycle_go_submit_button" type="submit" class="btn btn-primary w-100 h-100 d-flex align-items-center justify-content-center" style="background-color: #d2691e; border-color: #d2691e; min-height: 48px;">
                                        <i class="fa fa-search me-1"></i>
                                    </button>
                                </div>
                                
                                <!-- Botón Mi Garage -->
                                <t t-if="request.session.uid">
                                    <div class="col-4 col-md-3 col-lg-2">
                                        <div class="dropdown h-100">
                                            <button type="button" id="id_sh_motorcycle_snippet_select_saved_bike_btn" 
                                                    class="btn btn-secondary w-100 h-100 dropdown-toggle d-flex align-items-center justify-content-center"
                                                    style="background-color: #cd853f; border-color: #cd853f; min-height: 48px;" 
                                                    data-bs-toggle="dropdown" aria-expanded="false">
                                                <span class="d-none d-sm-inline">Mi Garage</span>
                                                <span class="d-sm-none">Garage</span>
                                            </button>
                                            <ul class="dropdown-menu" id="id_sh_motorcycle_snippet_select_saved_bike_div">
                                                <li><small class="dropdown-item-text text-muted">
                                                    Cargando vehículos...
                                                </small></li>
                                            </ul>
                                        </div>
                                    </div>
                                </t>
                                
                                <!-- Link de login para usuarios no logueados -->
                                <t t-if="not request.session.uid">
                                    <div class="col-4 col-md-3 col-lg-2">
                                        <a id="id_sh_motorcycle_snippet_login_to_acc_garage_link" href="/web/login" 
                                           class="btn btn-secondary w-100 h-100 d-flex align-items-center justify-content-center"
                                           style="text-decoration: none; background-color: #cd853f; border-color: #cd853f; min-height: 48px;">
                                            <span class="d-none d-sm-inline">Mi Garage</span>
                                            <span class="d-sm-none">Garage</span>
                                        </a>
                                    </div>
                                </t>
                                
                                <!-- Botón Reset -->
                                <div class="col-4 col-md-2">
                                    <a href="/shop" class="btn btn-outline-secondary w-100 h-100 d-flex align-items-center justify-content-center" 
                                       title="Ver todos los productos" style="text-decoration: none; min-height: 48px;">
                                        <span class="d-none d-sm-inline">
                                            <i class="fa fa-refresh me-1" style="font-size: 0.9rem;"></i>Reset
                                        </span>
                                        <span class="d-sm-none">
                                            <i class="fa fa-refresh"></i>
                                        </span>
                                    </a>
                                </div>
                            </div>
                            
                        </div>
                    </div>

                </form>
                
            </div>
        </section>
    </template>

    <!-- 
    	INHERIT BY SOFTHELAER
    	SNIPPET OPTIONS
    -->

    <template id="sh_motorcycle_snippet_website_snippets" inherit_id="website.snippets" name="Motorcycle Website Snippets">
        <xpath expr="//snippets[@id='snippet_structure']" position="inside">
            <!-- Motorcycle snippet 1 -->
            <snippets>
                <t t-snippet="sh_motorcycle_frontend.sh_motorcycle_snippet_tmpl_1" t-thumbnail="/sh_motorcycle_frontend/static/src/img/block/h_block_1.png" />
            </snippets>
        </xpath>
    </template>

    <template id="sh_motorcycle_snippet_snippet_options" inherit_id="website.snippet_options">
        <xpath expr="//div" position="after">
            <!-- eCommerce Categories -->
            <div data-js="js_editor_sh_motorcycle_snippet_tmpl_1" data-selector="#sh_motorcycle_snippet_section_1">
                <we-select string="eCommerce Categories">
                    <we-button data-select-class="">All Products</we-button>
                    <t t-set="sh_moto_categories" t-value="request.env['product.public.category'].search([])" />
                    <t t-if="len(sh_moto_categories)">
                        <t t-foreach="sh_moto_categories" t-as="sh_moto_categ">
                            <t t-set="sh_moto_data_select_cls" t-value="'sh_moto_categ_' + str(sh_moto_categ.id)" />
                            <we-button t-att-data-select-class="sh_moto_data_select_cls">
                                <t t-esc="sh_moto_categ.name" />
                            </we-button>
                        </t>
                    </t>
                </we-select>
            </div>

            <div data-selector="#sh_motorcycle_snippet_section_1">
                <we-select string="Button Size">
                    <we-button data-select-class="">None</we-button>
                    <we-button data-select-class="cls_sh_motorcycle_snippet_small">Small</we-button>
                    <we-button data-select-class="cls_sh_motorcycle_snippet_large">Large</we-button>
                </we-select>
            </div>
        </xpath>
    </template>
</odoo>