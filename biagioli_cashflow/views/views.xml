<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Menú principal del módulo Cashflow -->
    <menuitem id="menu_cashflow"
            name="Cashflow"
            parent="accountant.menu_accounting"
            action="action_cashflow_grid_invoices"
            sequence="120"/>


    <record id="action_cashflow_grid_invoices" model="ir.actions.act_window">
        <field name="name">Cashflow Proveedores</field>
        <field name="res_model">account.move</field>
        <field name="view_mode">grid</field>
        <field name="domain">[('move_type', '=', 'in_invoice'), ('state','in',('draft','posted'))]</field>
    </record>

    <!-- Acción para la vista GRID de Cashflow -->    
    <record id="view_cashflow_grid_invoices" model="ir.ui.view">
        <field name="name">account.move.grid.cashflow</field>
        <field name="model">account.move</field>
        <field name="arch" type="xml">
            <grid string="Cashflow Proveedores - Facturas"
                editable="bottom"
                display_empty="1"
                create_inline="0">
                
                <!-- Filas: Proveedor -->
                <field name="partner_id" type="row"/>

                <!-- Columnas: Fecha de factura o vencimiento -->
                <field name="invoice_date_due" type="col">
                    <range name="day" string="Día" span="day" step="day"/>
                    <range name="month" string="Mes" span="month" step="day" default="1"/>
                </field>

                <!-- Medida: Monto total firmado -->
                <field name="amount_total_signed" string="Monto Total" type="measure"/>
            </grid>
        </field>
    </record>
</odoo>
