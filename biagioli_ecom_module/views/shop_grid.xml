<?xml version="1.0" encoding="UTF-8"?>
<odoo>
   <!-- 🏷️ Mostrar código de variante en vista de producto -->
  <template id="sh_motorcycle_product_view_inherit"
            inherit_id="website_sale.product"
            name="Show default_code before product title">
    <xpath expr="//div[@id='product_details']/h1" position="before">
      <t t-if="product_variant and product_variant.default_code">
        <div id="variant_default_code" class="text-muted small mb-2">
          <strong>Código:</strong> <span t-esc="product_variant.default_code"/>
        </div>
      </t>
    </xpath>
  </template>

    <!-- 🏷️ Mostrar código de producto en grid -->
  <template id="sh_motorcycle_products_item_inherit"
            inherit_id="website_sale.products_item"
            name="Add default_code to product card (grid and list)">
    <xpath expr="//div[contains(@class,'o_wsale_product_information')]" position="inside">
      <t t-if="product.default_code">
        <small class="text-muted d-block">
          Código: <t t-esc="product.default_code"/>
        </small>
      </t>
    </xpath>
  </template>


  <!-- Inserta el badge «En stock» sobre la imagen -->
  <!-- <template id="sh_motorcycle_product_stock_badge"
            inherit_id="website_sale.products_item"
            name="Add stock badge to product card">
    <xpath expr="//div[contains(@class,'oe_product_image')]" position="inside">
      <t t-if="has_stock_map and has_stock_map.get(product.id)">
        <span
          class="badge bg-success position-absolute start-0 bottom-0 m-2"
          style="z-index:10;">
          En stock
        </span>
      </t>
    </xpath>
  </template> -->

<!-- Seguimos quitando el overflow para no recortarlo -->
  <template id="debug_remove_overflow"
            inherit_id="website_sale.products_item"
            name="DEBUG: Allow overflow on product image">
    <xpath expr="//div[contains(@class,'oe_product_image')]" position="attributes">
      <attribute name="class">oe_product_image position-relative flex-grow-0</attribute>
    </xpath>
  </template>

  <!-- Marcador DEBUG en esquina inferior-derecha -->
  <template id="debug_stock_marker"
            inherit_id="website_sale.products_item"
            name="DEBUG: Stock marker bottom-right">
    <xpath expr="//div[contains(@class,'oe_product_image')]" position="inside">
      <div
        style="position:absolute;
               bottom:0;
               right:0;
               background: yellow;
               color: red;
               padding: .2em .4em;
               font-size: .8em;
               z-index: 9999;">
        DEBUG STOCK HERE
      </div>
    </xpath>
  </template>

  
</odoo>
