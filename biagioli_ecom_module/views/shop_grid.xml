<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <template
    id="biagioli_products_item_inherit"
    inherit_id="website_sale.products_item"
    name="Mostrar c贸digo y stock en grid">
    <!-- Inserta el c贸digo interno bajo la informaci贸n -->
    <xpath expr="//div[contains(@class,'o_wsale_product_information')]" position="inside">
      <t t-if="product.default_code">
        <small class="text-muted d-block">
          C贸digo: <t t-esc="product.default_code"/>
        </small>
      </t>
    </xpath>
  </template>

    
  <template id="biagioli_products_stock_badge"
          inherit_id="website_sale.products_item"
          name="Badge de stock en grid">
  <xpath expr="//div[contains(@class,'oe_product_image')]" position="inside">
    <!-- uso de combination_info en vez de product.qty_available -->
    <t t-set="comb_info" t-value="product._get_combination_info()"/>
    <t t-if="comb_info['qty_available'] &gt; 0">
      <span class="badge bg-success position-absolute start-0 bottom-0 m-2" style="z-index:10;">
        En stock: <t t-esc="comb_info['qty_available']"/>
      </span>
    </t>
  </xpath>
</template>


  

</odoo>
